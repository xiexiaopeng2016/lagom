# 事件源的优势

多年来，开发人员已经使用传统的创建，读取，更新，删除(CRUD)模型实现了持久性。如先前介绍的那样，事件源模型通过将状态更改存储为历史事件来实现持久性，以在向数据存储写入数据之前捕获业务活动。这样可以将事件与存储机制分离开来，从而可以将事件聚合或放置在具有逻辑边界的组中。事件源是使并发分布式系统实现高性能，可伸缩性和弹性的模式之一。

在分布式架构中，事件源提供了以下优点:

* 在传统的CRUD模型中，实体实例通常被双重表示为内存中的可变对象和关系数据库表中的可变行。这导致臭名昭著的[对象关系阻抗不匹配(object relational impedance mismatch)](https://en.wikipedia.org/wiki/Object-relational_impedance_mismatch)。创建了对象关系映射器以弥合这种鸿沟，但带来了新的复杂性。事件源模型将数据库视为序列化事件的仅附加日志。它不会尝试在数据库模式中直接对每个实体的状态或它们之间的关系进行建模。这大大简化了写入数据库和从数据库读取的代码。

* 实体如何达到其当前状态的历史记录保存在存储的事件中。确保事务数据和审计数据之间的一致性，因为它们实际上是相同的数据。

* 现在，您有能力分析事件流并从中获得重要的业务信息 -- 可能是在设计事件时甚至没有考虑到的事情。您可以在我们的系统活动中添加新视图，而不会使写入端(write-side)变得更加复杂。

* 因为所有类型的事件都简单地附加到数据存储中，所以它提高了写入性能。没有更新，也没有删除。

* 基于事件的系统易于测试和调试。可以用模拟命令和事件进行测试。事件日志为调试提供了良好的记录。如果在生产中检测到问题，则可以在受控环境中重播事件日志，以了解实体如何达到不良状态。

## 进一步阅读

有关事件源和CQRS的完整讨论超出了本文档的范围。有关更多信息，我们建议以下内容。

* [CQRS之旅](https://msdn.microsoft.com/en-us/library/jj554200.aspx) --- 学习更多有关CQRS和事件源一个很好的资源。
* 一篇[我们自己写的博客](https://jazzy.id.au/2016/10/08/cqrs-increases-consistency.html) --- 显示了重要的作用CQRS在微服务系统播放。
