# 调整单个微服务的大小

无论您是从头开始构建新系统，还是将整体分解为微服务，以下问题的答案都将帮助您做出明智的选择。

### 此服务仅做一件事吗？

这应该。如果用一句话不能说明微服务的全部用途，则您的服务可能太大。例如：

* 适当大小的服务: "此服务管理用户之间的朋友关系。"
* 一种执行多种功能的服务, 应该对其进行拆分: "该服务管理用户之间的朋友关系，并汇总用户朋友的所有活动, 以便可以使用它"。

### 此服务是自治的吗？

服务应该对自己的行为负责。它不应该依赖其他服务来完成其工作。

例如，考虑一个订单服务，其协议允许您创建订单，添加条目，添加付款明细以及通过付款确认订单。但是，另一项服务处理付款。如果付款服务没有运行怎么办？这种依赖性意味着订单服务不是自主的。

无论支付服务的状态如何，自治服务都将接受确认请求。它还可能(可能是异步的)确保最终处理付款。

### 此服务是否拥有自己的数据？

如果服务是数据所在的数据库的唯一写入者*和*唯一读取者，则它“拥有”数据。

如果发现自己设计了访问同一数据库的多个服务，请考虑重新设计。选择一项服务作为所有者；要求其他服务使用该服务的协议发出读取请求。
